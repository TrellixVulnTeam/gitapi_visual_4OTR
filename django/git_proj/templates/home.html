<!doctype html>
<html>

<head>
	<title>D3 tutorial</title>
	<script src="http://d3js.org/d3.v3.min.js"></script>
</head>

<body>

	<script>
		
		var coms = {"data": [{"name": "nikolas", "commits": 1}, {"name": "Mike Bostock", "commits": 2779}, {"name": "denisname", "commits": 1}, {"name": "zan", "commits": 1}, {"name": "alexmacy", "commits": 3}, {"name": "Curran Kelleher", "commits": 4}, {"name": "Elena Glassman", "commits": 1}, {"name": "Micah Stubbs", "commits": 1}, {"name": "David Ollerhead", "commits": 1}, {"name": "Peter Lenahan", "commits": 1}, {"name": "Mike van Rossum", "commits": 2}, {"name": "F\u00e1bio Silva", "commits": 1}, {"name": "Jeferson Koslowski", "commits": 1}, {"name": "Barrie Treloar", "commits": 1}, {"name": "william-pan", "commits": 1}, {"name": "Gordon Woodhull", "commits": 1}, {"name": "Dev-Lan", "commits": 1}, {"name": "mpersing", "commits": 1}, {"name": "Minwei Xu", "commits": 2}, {"name": "Lukas Appelhans", "commits": 1}, {"name": "Fernando Lores", "commits": 1}, {"name": "Stef Walter", "commits": 1}, {"name": "Sherry Zhou", "commits": 1}, {"name": "ppeterka", "commits": 1}, {"name": "Yuichi Yazaki", "commits": 1}, {"name": "leitzler", "commits": 1}, {"name": "Gilad Peleg", "commits": 1}, {"name": "Chris Rebert", "commits": 2}, {"name": "patriciaborges", "commits": 1}, {"name": "Jaemin Jo", "commits": 2}, {"name": "Jonathan Huang", "commits": 4}, {"name": "Jason Davies", "commits": 776}, {"name": "Nathan Vander Wilt", "commits": 11}, {"name": "William Wung", "commits": 1}, {"name": "Wil Gieseler", "commits": 2}, {"name": "Alex Simoes", "commits": 1}, {"name": "Luca Mussi", "commits": 4}, {"name": "Dan Dascalescu", "commits": 5}, {"name": "Vlad-\u0218tefan Harbuz", "commits": 1}, {"name": "Arjen van Oostrum", "commits": 2}, {"name": "Thomas Preusse", "commits": 1}, {"name": "mauromelis", "commits": 1}, {"name": "Max Goldstein", "commits": 1}, {"name": "Alon Levy", "commits": 1}, {"name": "Robert Buchholz", "commits": 1}, {"name": "Dorota", "commits": 2}, {"name": "Phil Elson", "commits": 2}, {"name": "John Firebaugh", "commits": 4}, {"name": "Dave Landry", "commits": 2}, {"name": "Yves Le Maout", "commits": 1}, {"name": "Thomas Fankhauser", "commits": 9}, {"name": "Philippe Serhal", "commits": 2}, {"name": "Martin Ha\u0308cker", "commits": 3}, {"name": "Jos\u00e9 Romeu Garc\u00eda", "commits": 1}, {"name": "Tim Branyen", "commits": 3}, {"name": "Philip J\u00e4genstedt", "commits": 1}, {"name": "afc163", "commits": 1}, {"name": "ljani", "commits": 1}, {"name": "Erin Jane", "commits": 1}, {"name": "Prajit Ramachandran", "commits": 1}, {"name": "Darrick Brown", "commits": 1}, {"name": "Timmy Willison", "commits": 2}, {"name": "Jim Kang", "commits": 1}, {"name": "Roger Bramon", "commits": 1}, {"name": "Fabricio Tavares de Oliveira", "commits": 1}, {"name": "Alexander WU", "commits": 1}, {"name": "jbblanchet", "commits": 2}, {"name": "PatrickJS", "commits": 1}, {"name": "Jesus Magana", "commits": 1}, {"name": "kmindi", "commits": 3}, {"name": "Stuart Glaser", "commits": 2}, {"name": "Daniel Goldbach", "commits": 27}, {"name": "Guy Bedford", "commits": 2}, {"name": "Harry Voorhees", "commits": 6}, {"name": "Leonardo Dutra", "commits": 8}, {"name": "adnan", "commits": 2}, {"name": "Jared Forsyth", "commits": 2}, {"name": "Erik Cunningham", "commits": 3}, {"name": "Ryan Alexander", "commits": 3}, {"name": "Freeyorp", "commits": 1}, {"name": "Carlos Rendon", "commits": 7}, {"name": "shilad", "commits": 1}, {"name": "Scott Cheng", "commits": 8}, {"name": "Chia-liang Kao", "commits": 2}, {"name": "Dan Milon", "commits": 1}, {"name": "JD Isaacks", "commits": 3}, {"name": "Dan Tillberg", "commits": 1}, {"name": "Lee Leathers", "commits": 1}, {"name": "Adam Sunderland", "commits": 3}, {"name": "Ilya Boyandin", "commits": 1}, {"name": "Dean Malmgren", "commits": 2}, {"name": "Calvin Metcalf", "commits": 1}, {"name": "Ziggy Jonsson", "commits": 2}, {"name": "Isaac Z. Schlueter", "commits": 1}, {"name": "Ger Hobbelt", "commits": 3}, {"name": "Steven Noble", "commits": 4}, {"name": "Dirk Bergstrom", "commits": 1}, {"name": "Brandon Liu", "commits": 1}, {"name": "George Adams", "commits": 1}, {"name": "Lache\u0300ze Alexandre", "commits": 1}, {"name": "webmonarch", "commits": 7}, {"name": "Kristofer Monisit", "commits": 50}, {"name": "Michael Meisel", "commits": 2}, {"name": "David Poncelow", "commits": 3}, {"name": "Jon Seymour", "commits": 2}, {"name": "Carlos Scheidegger", "commits": 1}, {"name": "Stephen Bannasch", "commits": 1}, {"name": "Michael Jackson", "commits": 1}, {"name": "Zee Agency", "commits": 1}, {"name": "Trevor Norris", "commits": 6}, {"name": "Ian Malpass", "commits": 2}, {"name": "Andrew Sutherland", "commits": 2}, {"name": "Jim Radford", "commits": 1}, {"name": "Lars Kotthoff", "commits": 11}, {"name": "Andy Chong", "commits": 1}, {"name": "Gerard Hundman", "commits": 1}, {"name": "Johan Sundstr\u00f6m", "commits": 2}, {"name": "Peter Woodman", "commits": 5}, {"name": "yasirs", "commits": 11}, {"name": "Xavier Shay", "commits": 2}, {"name": "Mitsutoshi Aoe", "commits": 5}, {"name": "Mike Bostock + Erica Kwan", "commits": 1}, {"name": "Tommy Montgomery", "commits": 1}, {"name": "Caged", "commits": 2}, {"name": "Ignacio", "commits": 1}, {"name": "Jan Alonzo", "commits": 1}, {"name": "vtstarin", "commits": 1}, {"name": "Kevin J. Lynagh", "commits": 1}, {"name": "chris viau", "commits": 2}, {"name": "Jeffrey Heer", "commits": 8}, {"name": "Square", "commits": 9}, {"name": "Nelson Minar", "commits": 7}, {"name": "Michael Bostock", "commits": 225}]}
		
		var list = coms["data"];
		
		var users = 
		[
			{"username": "conor-gil", "commits": 104},
			{"username": "dhurley", "commits": 38},
			{"username": "cianob", "commits": 186},
			{"username": "eleahy", "commits": 76},
			{"username": "conor-gil2", "commits": 204},
			{"username": "dhurley2", "commits": 138},
			{"username": "cianob2", "commits": 286},
			{"username": "eleahy2", "commits": 176},
			{"username": "conor-gil3", "commits": 142},
			{"username": "dhurley3", "commits": 238},
			{"username": "cianob3", "commits": 146},
			{"username": "eleahy3", "commits": 57},
			{"username": "conor-gil4", "commits": 134},
			{"username": "dhurley4", "commits": 165},
			{"username": "cianob4", "commits": 86},
			{"username": "eleahy4", "commits": 276}
		]
		
		var map = list.map(function (i) { return parseInt(i.commits); });
		map.sort(function(a,b) { return a - b; });
		var contrib1 = map.pop();
		var contrib2 = map.pop();
		var contrib3 = map.pop();
		var contrib4 = map.pop();
		var contrib5 = map.pop();
		console.log(contrib1);
		console.log(contrib2);
		console.log(contrib3);
		console.log(contrib4);
		console.log(contrib5);
		
		
		var padding = 50;
		var width = 500;
		var height = 500;
		
		var histogram = d3.layout.histogram()
			.bins(10)
			(map);
			
			
		var y = d3.scale.linear()
			.domain([0,d3.max(histogram.map(function(i) {return i.length;} ))])
			.range([0,height]);
			
		var x = d3.scale.linear()
			.domain([0,d3.max(map)])
			.range([0,width]);
			
		var xAxis = d3.svg.axis()
			.scale(x)
			.orient("bottom");
			
		var canvas = d3.select("body").append("svg")
			.attr("width", width)
			.attr("height", height + padding)
			.append("g")
				.attr("transform", "translate(20,30)");
				
		var group = canvas.append("g")
			.attr("transform", "translate(0," + height + ")")
			.call(xAxis);
			
		var bars = canvas.selectAll(".bar")
			.data(histogram)
			.enter()
			.append("g");
			
		bars.append("rect")
			.attr("x", function (d) { return x(d.x); })
			.attr("y", function (d) { return height - y(d.y); })
			.attr("width", function (d) { return x(d.dx); })
			.attr("height", function (d) { return y(d.y); })
			.attr("fill", "steelblue");
			
		bars.append("text")
			.attr("x", function (d) { return x(d.x); })
			.attr("y", function (d) { return height - y(d.y); })
			.attr("dy", "-10px")
			.attr("dx", function(d) { return x(d.dx)/2; })
			.attr("fill", "black")
			.attr("tect-anchor", "middle")
			.text(function (d) { return d.y; });
						
					
	</script>

</body>

</html>