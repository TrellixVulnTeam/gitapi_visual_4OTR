<!doctype html>
<html>

<head>
	<title>D3 tutorial</title>
	<script src="http://d3js.org/d3.v3.min.js"></script>
</head>

<body>

	<script>
		
		var users = 
		[
			{"username": "conor-gil", "loc": 104},
			{"username": "dhurley", "loc": 38},
			{"username": "cianob", "loc": 186},
			{"username": "eleahy", "loc": 76}
		]
	
		var width = 500;
		var height = 500;
		var widthScale = d3.scale.linear()
					.domain([0,200])
					.range([0,width]);
		var color = d3.scale.linear()
				.domain([0,3])
				.range(["red","blue"]);
				
		var canvas = d3.select("body")
				.append("svg")
				.attr("width", width)
				.attr("height", height);
				
		var bars = canvas.selectAll("rect")
					.data(users)
					.enter()
						.append("rect")
						.attr("width", function(d) { return widthScale(d.loc); })
						.attr("height", 48)
						.attr("y", function(d,i) { return i * 50; })
						.attr("fill", function(d,i) { return color(i); });
					
		var labels = canvas.selectAll("text")
					.data(users)
					.enter()
						.append("text")
						.attr("fill","white")
						.attr("y", function(d,i) { return i * 50 + 24; })
						.attr("x", 2)
						.text(function (d) { return d.username; });
						
					
	</script>

</body>

</html>